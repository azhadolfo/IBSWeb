@using IBS.Models.ViewModels
@model LubeDeliveryVM

<div class="mb-5">
    <h2 class="text-center">Delivery Details</h2>
        <div class="row">
            <div class="col-10">
            <h6 class="px-2"><b>@Html.DisplayNameFor(model => model.Header.SalesInvoice):</b> @Model.Header.SalesInvoice</h6>
            <h6 class="px-2"><b>@Html.DisplayNameFor(model => model.Header.SupplierCode):</b> @Model.Header.SupplierCode</h6>
            <h6 class="px-2"><b>Supplier Name:</b> @ViewData["SupplierName"]</h6>
            </div>
            <div class="col-2">
            <h6 class="px-2"><b>Date:</b> @Model.Header.DeliveryDate.ToString("MMMM dd, yyyy")</h6>
            <h6 class="px-2"><b>@Html.DisplayNameFor(model => model.Header.DrNo):</b> @Model.Header.DrNo</h6>
            <h6 class="px-2"><b>@Html.DisplayNameFor(model => model.Header.PoNo):</b> @Model.Header.PoNo</h6>
            </div>
        </div>
</div>

<div class="table-responsive">
    <table class="table">
        <thead>
            <tr>
                <th colspan="6" class="text-center table-primary">Lube</th>
            </tr>
            <tr>
                <th>Quantity</th>
                <th>Unit</th>
                <th>Description</th>
                <th class="text-end">Unit Cost</th>
                <th class="text-end">Cost Per Case</th>
                <th class="text-end">Amount</th>
            </tr>
        </thead>
        <tbody>
            @foreach(var obj in Model.Details)
            {
                <tr>
                    <td>@Html.DisplayFor(d => obj.Quantity)</td>
                    <td>@Html.DisplayFor(d => obj.Unit)</td>
                    <td>@Html.DisplayFor(d => obj.Description)</td>
                    <td class="text-end">@Html.DisplayFor(d => obj.CostPerPiece)</td>
                    <td class="text-end">@Html.DisplayFor(d => obj.CostPerCase)</td>
                    <td class="text-end">@Html.DisplayFor(d => obj.Amount)</td>
                </tr>
            }

            <table class="table table-borderless">
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td class="fw-medium text-end">Net of VAT:</td>
                    <td class="text-end">@Html.DisplayFor(model => model.Header.VatableSales)</td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td class="fw-medium text-end">Vat Amount</td>
                    <td class="text-end">@Html.DisplayFor(model => model.Header.VatAmount)</td>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td class="fw-medium text-end">Total Amount:</td>
                    <td class="text-end">@Html.DisplayFor(model => model.Header.Amount)</td>
                </tr>
            </table>

        </tbody>
    </table>
</div>

<div class="signature-section mt-5">
    <hr class="signature-line">
    <p class="text-center mb-2">Received By:</p>
    <div class="signature-block">
    </div>
    <p class="small text-muted text-center">@Html.DisplayFor(model => model.Header.ReceivedBy)</p>
</div>

<div class="row mt-5">
    @{
        if (Model.Header.PostedBy == null)
        {
            <div class="col-6 col-md-3">
                <a asp-area="User" asp-controller="Purchase" asp-action="PostLube" asp-route-id="@Model.Header.LubePurchaseHeaderNo" class="btn btn-primary form-control buttons">Approve</a>
            </div>
        }
        else
        {
            <div class="col-6 col-md-3">
                <a onclick="window.print()" class="btn btn-primary form-control buttons">Print</a>
            </div>
        }
    }

    <div class="col-6 col-md-3">
        <a asp-area="User" asp-controller="Purchase" asp-action="Lube" class="btn btn-outline-primary border form-control buttons">Back to List</a>
    </div>
</div>